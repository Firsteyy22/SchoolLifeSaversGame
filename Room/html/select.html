<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Life Savers</title>
    <link rel="icon" href="/picture/LOGO.png">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/Room/css/select.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

</head>
<body class="map-page map-container">
   <!-- HTML Structure -->
   <!-- Buttons -->
   <!-- <a href="/startGame.html" class="button button-upleft">BACK</a> -->


      <h1>เลือกด่าน</h1>
      <div class="level-head-text"> ด่าน 1 </div>

      <div class="container">
        <div class="prev">
          <i class="fas fa-chevron-circle-left"></i>
        </div>
    
        <div class="gallery level">

            <div class="card position1" id="level1-button">
                <img src="/picture/roompng/Emergency1.png" alt="image1">
            </div>
        
            <div class="card position2" id="level2-button">
                <img src="/picture/roompng/Emergency2.png" alt="image2">
            </div>
        
            <div class="card position3" id="level3-button">
                <img src="/picture/roompng/Emergency3.png" alt="image3">
            </div>
        
            <div class="card position4" id="level4-button">
                <img src="/picture/roompng/Emergency4.png" alt="image4">
            </div>
        
        </div>
        
        
    
        <div class="next">
          <i class="fas fa-chevron-circle-right"></i>
        </div>
    </div>
    
    <div class="confirm">
      <a class="button" id="confirm">CONFIRM</a>
    </div>

  <a href="/startGame.html" class="button button-upleft" style="z-index: 99;">BACK</a>

 <!-- JS -->
 <script src="/levelcheck.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> <!-- SweetAlert2 for notifications -->
 <script src="/Room/js/select.js"></script>
 <script src="/gameplay.js"></script>
 <script src="/setting.js" defer></script>
 <script src="/audioController.js" defer></script>
 <script>
     document.addEventListener("DOMContentLoaded", async () => {
         if (window.audioManager) {
             window.audioManager.init();
 
             // ตรวจสอบ interaction ก่อนเล่น BGM
             const hadInteraction = localStorage.getItem("hadUserInteraction") === "true";
             if (hadInteraction) {
                 try {
                     await window.audioManager.playBGM();
                 } catch (error) {
                     console.error("Failed to play BGM:", error);
                 }
             }
         }
     });
 
     // ก่อนออกจากหน้า บันทึก currentTime
     window.addEventListener("beforeunload", () => {
         if (window.audioManager && window.audioManager.isPlayingBGM) {
             localStorage.setItem("bgMusicCurrentTime", window.audioManager.bgMusic.currentTime);
         }
     });

     
 </script>
 
     <!-- audio -->
     <audio id="bg-music" loop>
         <source src="/music/bgm/main_bg.mp3" type="audio/mpeg">
     </audio>
    
     <audio id="sfx" preload="auto">
         <source src="/music/sfx/click-pop.mp3" type="audio/mpeg">
     </audio>
</body>
</html>
